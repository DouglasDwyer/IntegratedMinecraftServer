#pragma checksum "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e634f8bc8b472b666f26343b60524948ae4dadc6"
// <auto-generated/>
#pragma warning disable 1591
namespace IMS_Interface
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using IMS_Interface;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using IMS_Interface.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using IMS_Interface.Player;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using IMS_Interface.World;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\_Imports.razor"
using IMS_Interface.Preferences;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
using IMS_Library;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    public partial class MainLayout : LayoutComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<style>
    button, select {
        outline: none !important;
    }

    .popup-background {
        float: left;
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        z-index: 599;
        background-color: rgba(0,0,0,0.5);
        display: flex;
    }

    .world-card {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        width: 200px;
        height: 250px;
        border-radius: 5px;
        display: inline-grid;
        margin: 5px;
        image-rendering: pixelated;
        background-color: white;
    }
</style>");
#nullable restore
#line 42 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
  
    PopupManager.OnPopupChange = StateHasChanged;

#line default
#line hidden
#nullable disable
#nullable restore
#line 45 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
 if (PopupManager.CurrentPopupFragment != null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "popup-background");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "world-card");
            __builder.AddAttribute(5, "style", "\r\n                margin: auto;\r\n                width: unset;\r\n                display:block;\r\n                padding: 10px;\r\n                position:relative;\r\n                height:unset;\r\n                overflow:auto;\r\n            ");
            __builder.AddContent(6, 
#nullable restore
#line 57 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
             PopupManager.CurrentPopupFragment

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 60 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 61 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
 if (ServerSelector.CurrentServer != null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<IMS_Interface.NavMenu>(7);
            __builder.CloseComponent();
#nullable restore
#line 64 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
}

#line default
#line hidden
#nullable disable
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "main");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "navbar navbar-inverse navbar-fixed-top");
            __builder.AddAttribute(12, "style", "z-index:300");
            __builder.OpenElement(13, "div");
            __builder.OpenElement(14, "div");
            __builder.AddAttribute(15, "class", "navbar-header");
#nullable restore
#line 70 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                 if (IMS.Instance.IsDevelopmentMode)
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(16, "<a class=\"navbar-brand\" style=\"padding:15px 0px\" href=\"/\">IntegratedMinecraftServer (experimental)</a>");
#nullable restore
#line 73 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(17, "<a class=\"navbar-brand\" style=\"padding:15px 0px\" href=\"/\">IntegratedMinecraftServer</a>");
#nullable restore
#line 77 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n\r\n            ");
            __builder.OpenElement(19, "div");
            __builder.AddAttribute(20, "style", "right:8px; position:absolute; height:100%; width:fit-content; display:flex; align-items:center");
            __builder.OpenElement(21, "a");
            __builder.AddAttribute(22, "href", "javascript:;");
            __builder.AddAttribute(23, "style", "font-size: 40px; display:inline; text-decoration:none; line-height: 0px; color: white; vertical-align: middle; margin: 0px 10px 0px 10px; font-weight:normal;");
            __builder.AddAttribute(24, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 81 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                                                                                                                                                                                         x => { JSRuntime.InvokeVoidAsync("toggleInfoBox"); IMS.Instance.UserMessageManager.NewMessagesForUser = false; }

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(25, "id", "infoButton");
            __builder.AddMarkupContent(26, "\r\n                    ðŸ›ˆ\r\n");
#nullable restore
#line 83 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                     if (IMS.Instance.UserMessageManager.NewMessagesForUser)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(27, "<div style=\"position: absolute;float:right;width: 10px;height: 10px;background-color: red;border-radius: 5px;top: 31px;left: 33px;\"></div>");
#nullable restore
#line 86 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n                ");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "id", "ShowUserInformation");
            __builder.AddAttribute(31, "style", "position:absolute");
            __builder.AddAttribute(32, "hidden", true);
            __builder.AddMarkupContent(33, "<style>\r\n\r\n\r\n                        .info-box {\r\n                            right: 10px;\r\n                            top: 50px;\r\n                            position: fixed;\r\n                            background-color: #ddd;\r\n                            border: 1px solid #ccc;\r\n                            border-radius: 2px;\r\n                            width: 350px;\r\n                            height: 175px;\r\n                            padding: 0px 6px 0px 6px;\r\n                            z-index: 100;\r\n                            overflow-y: auto;\r\n                        }\r\n\r\n                            .info-box > button {\r\n                                border-radius: 5px;\r\n                                border: 1px solid #aaa;\r\n                            }\r\n\r\n                        .info-box-arrow {\r\n                            top: -8px;\r\n                            border-style: solid;\r\n                            position: absolute;\r\n                        }\r\n\r\n                        .bubble-top {\r\n                            border-color: transparent transparent #bbb transparent;\r\n                            border-width: 0px 8px 8px 8px;\r\n                            left: -8px;\r\n                        }\r\n\r\n                            .bubble-top:after {\r\n                                border-color: transparent transparent white transparent;\r\n                                border-style: solid;\r\n                                border-width: 0px 7px 7px 7px;\r\n                                top: 1px;\r\n                                content: \"\";\r\n                                position: absolute;\r\n                                left: -7px;\r\n                            }\r\n\r\n                        .user-message-box {\r\n                            background-color: white;\r\n                            border: 1px solid #bbb;\r\n                            box-shadow: rgba(0, 0, 0, 0.2) 2px 2px;\r\n                            width: 100%;\r\n                            margin: 5px 0px;\r\n                            padding: 4px;\r\n                        }\r\n                    </style>\r\n\r\n                    ");
            __builder.OpenElement(34, "div");
            __builder.AddAttribute(35, "class", "info-box");
#nullable restore
#line 145 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                         if (IMS.Instance.UserMessageManager.Messages.Count > 0)
                        {
                            foreach (InformationItem item in IMS.Instance.UserMessageManager.Messages.OrderByDescending(x => x.LastSendTime))
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(36, "div");
            __builder.AddAttribute(37, "class", "user-message-box");
            __builder.OpenElement(38, "a");
            __builder.AddAttribute(39, "href", "javascript:;");
            __builder.AddAttribute(40, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 150 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                             x => IMS.Instance.UserMessageManager.Messages.Remove(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(41, "style", "float: right; color: white; background-color: gray; border-radius: 6px; height: 12px; width: 12px; text-align: center; text-decoration: none; line-height: 12px; padding-left:1px");
            __builder.AddMarkupContent(42, "Ã—");
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\r\n                            ");
            __builder.OpenElement(44, "label");
            __builder.AddAttribute(45, "style", "font-weight:normal;color:darkgray; font-size:12px; line-height:1; display:block;");
            __builder.AddContent(46, 
#nullable restore
#line 151 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                                                                                             item.LastSendTime

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(47, "<br>");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n                            ");
            __builder.OpenElement(49, "label");
            __builder.AddAttribute(50, "style", "font-weight:normal; margin-bottom:0px; margin-right:5px; line-height:1");
#nullable restore
#line 153 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                 switch (item.Severity)
                                {
                                    case InformationItem.MessageType.Info:

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(51, "<label style=\"color:darkgray\">\r\n                                            ðŸ›ˆ&#xFE0E;\r\n                                        </label>");
#nullable restore
#line 159 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                        break;
                                    case InformationItem.MessageType.Warning:

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(52, "<label style=\"color:darkgoldenrod\">\r\n                                            âš &#xFE0E;\r\n                                        </label>");
#nullable restore
#line 164 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                        break;
                                    case InformationItem.MessageType.Error:

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(53, "<label style=\"color:darkred\">\r\n                                            â›”&#xFE0E;\r\n                                        </label>");
#nullable restore
#line 169 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                        break;
                                    default:
                                        break;
                                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(54, 
#nullable restore
#line 173 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                 item.Message

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 176 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                            }
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(55, "<label style=\"font-weight:normal;margin:5px\">There are no new messages to show here.</label>");
#nullable restore
#line 181 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 184 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                 if (IMS.Instance.ServerManager.Servers.Count > 0)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(56, "select");
            __builder.AddAttribute(57, "style", "width:250px; display:inline");
            __builder.AddAttribute(58, "class", "btn btn-default dropdown-toggle");
            __builder.AddAttribute(59, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 186 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                                                                               CurrentServerBoxText

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(60, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => CurrentServerBoxText = __value, CurrentServerBoxText));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 187 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                         foreach (ServerProxy proxy in IMS.Instance.ServerManager.Servers)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(61, "option");
            __builder.AddAttribute(62, "value", 
#nullable restore
#line 189 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                            proxy.ID

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(63, 
#nullable restore
#line 189 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                       proxy.CurrentConfiguration.ServerName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 190 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.OpenElement(64, "option");
            __builder.AddAttribute(65, "value", "NEW");
            __builder.AddContent(66, "Create new server...");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 193 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 194 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                 if (Login.IsLoginRequired)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(67, "button");
            __builder.AddAttribute(68, "style", "background-color:transparent; margin-left:10px; border-style:none; color:white; height:32px; display:inline");
            __builder.AddAttribute(69, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 196 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                                                                                                                          LogoutAsync

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(70, "Sign Out");
            __builder.CloseElement();
#nullable restore
#line 197 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(71, "\r\n\r\n    ");
            __builder.OpenElement(72, "div");
            __builder.AddAttribute(73, "class", "px-4");
            __builder.AddAttribute(74, "style", "margin-left:80px; margin-top:74px; margin-right:10px");
            __builder.AddContent(75, 
#nullable restore
#line 203 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
         Body

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(76, "\r\n        <br>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n\r\n");
            __builder.OpenComponent<IMS_Interface.Timer>(78);
            __builder.AddAttribute(79, "Interval", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 208 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                  500

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(80, "UpdateComponentOnTick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 208 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                              true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(81, "UpdateScope", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.ComponentBase>(
#nullable restore
#line 208 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
                                                                                 this

#line default
#line hidden
#nullable disable
            ));
            __builder.AddComponentReferenceCapture(82, (__value) => {
#nullable restore
#line 208 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
             MainTimer = (IMS_Interface.Timer)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 210 "D:\Projects\IntegratedMinecraftServer\IMS-Interface\Shared\MainLayout.razor"
       
    [Inject]
    protected NavigationManager Navigator { get; set; }

    protected Timer MainTimer;

    protected bool ShowInformationBox = false;

    protected string CurrentServerBoxText
    {
        get
        {
            return ServerSelector.CurrentServerID.ToString();
        }
        set
        {
            if (value == "NEW")
            {
                Navigator.NavigateTo("/CreateNewServer", false);
            }
            else
            {
                ServerSelector.CurrentServerID = Guid.Parse(value);
            }
        }
    }

    protected override void OnInitialized()
    {
        if (Navigator.ToBaseRelativePath(Navigator.Uri) != "Login" && !Login.HasValidLoginCookie(JSRuntime, Context))
        {
            Navigator.NavigateTo("/Login", true);
        }
        NavigateToNewServerPage();
    }

    protected void NavigateToNewServerPage()
    {
        if (IMS.Instance.ServerManager.Servers.Count == 0 && Navigator.ToBaseRelativePath(Navigator.Uri) != "CreateNewServer")
        {
            Navigator.NavigateTo("/CreateNewServer", true);
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await JSRuntime.InvokeVoidAsync("pageLoad");
        MainTimer.Enabled = true;
    }

    protected async Task LogoutAsync()
    {
        await Login.DeleteLoginCookie(JSRuntime);
        Navigator.NavigateTo("/Login", true);
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ServerProvider ServerSelector { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private PopupProvider PopupManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IHttpContextAccessor Context { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
#pragma warning restore 1591
